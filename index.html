<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Urban · Emisora Online</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="manifest" href="site.webmanifest">
    <meta name="description" content="La Urban es una radio online que transmite música urbana las 24 horas del día.">
    <meta name="keywords" content="radio, online, música, urbana, reggaeton, trap, rap, hip hop, la urban">
    <meta name="author" content="La Urban">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#000000">
    <meta property="og:title" content="La Urban · Emisora Online">
    <meta property="og:description" content="La Urban es una emisora online que transmite música urbana las 24 horas del día.">
    <meta property="og:image" content="https://laurban.cl/img/android-chrome-512x512.png">
    <meta property="og:url" content="https://laurban.cl">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="La Urban">
    <meta property="og:locale" content="es_CL">
    <meta property="og:locale:alternate" content="en_US">
    <meta property="og:locale:alternate" content="es_ES">
    <meta property="og:locale:alternate" content="es_LA">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@laurban.cl">
    <meta name="twitter:creator" content="@laurban.cl">
    <meta name="twitter:title" content="La Urban · Emisora Online">
    <meta name="twitter:description" content="La Urban es una emisora online que transmite música urbana las 24 horas del día.">
    <meta name="twitter:image" content="https://laurban.cl/img/android-chrome-512x512.png">
    <meta name="twitter:url" content="https://laurban.cl">
    
    <!-- Suprimir errores de extensiones del navegador ANTES de cualquier código -->
    <script>
        (function() {
            'use strict';
            // Interceptar console.error inmediatamente
            const originalError = console.error;
            console.error = function(...args) {
                const msg = args.join(' ');
                if (msg.includes('message port closed') || 
                    msg.includes('Extension context') || 
                    msg.includes('chrome.runtime') ||
                    msg.includes('Unchecked runtime.lastError')) {
                    return; // Silenciar
                }
                originalError.apply(console, args);
            };
            
            // Interceptar console.warn también
            const originalWarn = console.warn;
            console.warn = function(...args) {
                const msg = args.join(' ');
                if (msg.includes('message port closed') || 
                    msg.includes('Extension context') || 
                    msg.includes('chrome.runtime') ||
                    msg.includes('Unchecked runtime.lastError')) {
                    return; // Silenciar
                }
                originalWarn.apply(console, args);
            };
            
            // Suprimir errores globales de extensiones
            window.addEventListener('error', function(e) {
                if (e.message && (
                    e.message.includes('message port closed') ||
                    e.message.includes('Extension context') ||
                    e.message.includes('chrome.runtime') ||
                    e.message.includes('Unchecked runtime.lastError')
                )) {
                    e.preventDefault();
                    e.stopPropagation();
                    e.stopImmediatePropagation();
                    return true;
                }
            }, true);
        })();
    </script>
</head>
<body>
    <!-- Overlay animado para el background -->
    <div id="backgroundOverlay" class="background-overlay"></div>
    
    <div class="player-container">
        <img src="img/logo.png" alt="Logo" class="logo" id="logo">
        <div class="cover-container">
            <img id="cover" src="https://laurban.cl/img/default.jpg" alt="Carátula del Álbum" class="cover">
        </div>
        <div class="song-info">
            <div class="marquee">
                <span id="song"></span>
            </div>
        </div>
        
        <!-- Audio element oculto -->
        <audio id="audio" name="media" preload="none" crossorigin="anonymous">
            <source type="audio/aac">
            <source type="audio/mpeg">
            Tu navegador no soporta el elemento <code>audio</code>.
        </audio>
        
        <!-- Controles personalizados con redes sociales integradas -->
        <div class="custom-controls">
            <button id="customPlayBtn" class="control-btn play-pause" aria-label="Play/Pause">
                <i class="fas fa-play"></i>
            </button>
            <button id="customMuteBtn" class="control-btn volume" aria-label="Mute/Unmute">
                <i class="fas fa-volume-up"></i>
            </button>
            <div class="volume-slider-container">
                <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="100" aria-label="Volume">
            </div>
            <div class="social-divider"></div>
            <a href="https://www.instagram.com/laurban.cl" target="_blank" rel="noopener noreferrer" class="control-btn social-btn" aria-label="Instagram">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.facebook.com/RadioUrban" target="_blank" rel="noopener noreferrer" class="control-btn social-btn" aria-label="Facebook">
                <i class="fab fa-facebook"></i>
            </a>
        </div>
        
        <div class="next-song-info d-none">
            <div class="marquee">
                <span id="next-song"></span>
            </div>
        </div>
        <div class="overlay" id="overlay">
            <button id="playButton" class="play-button"><i class="fas fa-play"></i></button>
        </div>
    </div>

    <div class="btn-container">
        <a id="dynamicCanvas" class="btn btn-primary-custom" href="#" target="">
            <i id="button2Icon" class="fas fa-comment-dots"></i> 
            <span id="button2Text">Chatea acá!</span>
        </a>
        <a id="dynamicButton" class="btn btn-primary-custom" href="#">
            <i id="buttonIcon" class="fas fa-music"></i> 
            <span id="buttonText">Pedir canción</span>
        </a>
    </div>

    <div class="footer">
        <p>&copy; 2009 Radio Urban - 2025 La Urban</p>
    </div>

    <div id="musicRequestCanvas" class="col">
        <div class="d-flex justify-content-between px-4 py-1">
            <h3>Pide tu canción</h3>
            <button id="closeButton" class="btn btn-primary-custom" style="font-size: .9rem">
                <i class="fa fa-times"></i>
            </button>
        </div>
        <div class="container-fluid g-0 h-100">
            <iframe 
                id="requestIframe"
                title="Formulario para solicitar canciones"
                width="100%" 
                height="90%"
                style="border: none;"
            ></iframe>
        </div>
    </div>
    <div id="chatCanvas" class="col">
        <div class="d-flex justify-content-between px-4 py-1">
            <h3>Chatea!</h3>
            <button id="close2Button" class="btn btn-primary-custom" style="font-size: .9rem">
                <i class="fa fa-times"></i>
            </button>
        </div>
        <div class="container-fluid g-0 h-100">
            <iframe 
                id="newRequestFrame"
                title="Chat en vivo de La Urban"
                width="100%" 
                height="90%"
                style="border: none;"
            ></iframe>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="js/index.js"></script>
</body>
</html>
